<!DOCTYPE html>
<html lang="es">

<head>
  <title>NETWORK MARKETING</title>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous" />
</head>

<body>
  <main class="bg-dark container-fluid" style="height: 100vh">
    <div class="row">
      <div class="col-12">
        <div class="d-grid gap-2">
          <button type="button" onclick="createNetwork()" class="btn btn-primary">Crear red</button>
          <!-- <button type="button" onclick="deleteNode()" class="btn btn-primary">Borrar nodo 2</button> -->
        </div>
      </div>
    </div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
    crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
    crossorigin="anonymous"></script>

  <script src="./js/users.js"></script>
  <script src="./js/tree.js"></script>
  <script src="./js/settings.js"></script>
  <script src="./js/commisions.js"></script>

  <script>
    const _Users = new Users();
    const _Tree = new Tree();
    const _Settings = new Settings();
    const _Commisions = new Commissions();

    let users;


    _Users.getAllUsers().then((data) => {
      users = data;
    });

    const createNetwork = () => {
      _Tree.deleteAll();
      users.forEach(user => {
        _Tree.add(user);
      });
      console.log(_Tree.rootNode);
      console.log(_Tree.maxLevel);
    }

    const deleteNode = () => {
      _Tree.delete(1);
      console.log(_Tree.rootNode);
      console.log(_Tree.maxLevel);
    }


  </script>
</body>

</html>